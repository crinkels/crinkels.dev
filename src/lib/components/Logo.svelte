<script>
	import { spring } from 'svelte/motion';

	let triggered = false;
	let springyRotation = spring(0, { stiffness: 0.2, damping: 0.15 });
	$: springyRotation.set(triggered ? 10 : 0);
	$: style = `transform: rotate(${$springyRotation}deg)`;

	$: if (triggered)
		window.setTimeout(() => {
			triggered = false;
		}, 200);

	function trigger() {
		triggered = true;
	}

	let klass = undefined;
	export { klass as class };
</script>

<a
	on:mouseenter={trigger}
	on:click={trigger}
	{style}
	href="/"
	aria-label="Logo that redirects to the homepage"
	class={`logo ${klass}`}
>
	<svg width="30" height="35" viewBox="0 0 238 281" fill="none" xmlns="http://www.w3.org/2000/svg">
		<path
			fill-rule="evenodd"
			clip-rule="evenodd"
			d="M166.75 9.52643C147.868 -3.17549 123.148 -3.17547 104.266 9.52645L29.0584 60.119C12.2183 69.3043 0 86.949 0 109.023V174.203C0 180.728 1.15264 186.984 3.26587 192.781C13.9533 222.096 48.4106 233.899 74.3 251.315L104.266 271.474C123.148 284.175 147.868 284.176 166.75 271.474L213.327 240.141C246.178 218.042 246.178 169.802 213.327 147.704L207.552 143.819C205.196 142.234 205.196 138.766 207.552 137.181L213.397 133.249C246.284 111.126 246.141 62.9335 213.327 40.8595L166.75 9.52643ZM108.965 162.372C108.965 165.574 112.541 167.478 115.198 165.691L147.711 143.819C150.068 142.234 150.068 138.766 147.711 137.181L115.198 115.309C112.541 113.522 108.965 115.426 108.965 118.628V140.5V162.372ZM27.9398 110.096V171.689C27.9398 180.956 32.5567 189.617 40.2587 194.798L43.343 196.873C50.428 200.426 59.0028 201.048 66.9261 197.597C75.314 193.148 81.0253 184.341 81.0253 174.203V110.096C81.0253 95.4723 69.1417 83.6173 54.4825 83.6173C39.8234 83.6173 27.9398 95.4723 27.9398 110.096ZM119.887 248.364L86.8931 226.169C84.1056 224.294 84.3563 220.056 87.1438 218.18V218.18L157.557 170.813C169.695 162.648 185.569 162.648 197.706 170.813V170.813C214.132 181.862 214.132 205.982 197.706 217.031L151.129 248.364C141.688 254.715 129.328 254.715 119.887 248.364ZM87.1212 62.8044L157.487 110.14C169.667 118.333 185.596 118.333 197.776 110.14V110.14C214.165 99.1153 214.168 75.0425 197.706 63.9687L151.129 32.6356C141.688 26.2847 129.328 26.2847 119.887 32.6357L86.8725 54.8447C84.0948 56.7132 84.3436 60.9359 87.1212 62.8044V62.8044Z"
			fill="url(#paint0_linear)"
		/>
		<path
			fill-rule="evenodd"
			clip-rule="evenodd"
			d="M166.75 9.52643C147.868 -3.17549 123.148 -3.17547 104.266 9.52645L29.0584 60.119C12.2183 69.3043 0 86.949 0 109.023V174.203C0 180.728 1.15264 186.984 3.26587 192.781C13.9533 222.096 48.4106 233.899 74.3 251.315L104.266 271.474C123.148 284.175 147.868 284.176 166.75 271.474L213.327 240.141C246.178 218.042 246.178 169.802 213.327 147.704L207.552 143.819C205.196 142.234 205.196 138.766 207.552 137.181L213.397 133.249C246.284 111.126 246.141 62.9335 213.327 40.8595L166.75 9.52643ZM108.965 162.372C108.965 165.574 112.541 167.478 115.198 165.691L147.711 143.819C150.068 142.234 150.068 138.766 147.711 137.181L115.198 115.309C112.541 113.522 108.965 115.426 108.965 118.628V140.5V162.372ZM27.9398 110.096V171.689C27.9398 180.956 32.5567 189.617 40.2587 194.798L43.343 196.873C50.428 200.426 59.0028 201.048 66.9261 197.597C75.314 193.148 81.0253 184.341 81.0253 174.203V110.096C81.0253 95.4723 69.1417 83.6173 54.4825 83.6173C39.8234 83.6173 27.9398 95.4723 27.9398 110.096ZM119.887 248.364L86.8931 226.169C84.1056 224.294 84.3563 220.056 87.1438 218.18V218.18L157.557 170.813C169.695 162.648 185.569 162.648 197.706 170.813V170.813C214.132 181.862 214.132 205.982 197.706 217.031L151.129 248.364C141.688 254.715 129.328 254.715 119.887 248.364ZM87.1212 62.8044L157.487 110.14C169.667 118.333 185.596 118.333 197.776 110.14V110.14C214.165 99.1153 214.168 75.0425 197.706 63.9687L151.129 32.6356C141.688 26.2847 129.328 26.2847 119.887 32.6357L86.8725 54.8447C84.0948 56.7132 84.3436 60.9359 87.1212 62.8044V62.8044Z"
			fill="url(#paint1_radial)"
		/>
		<defs>
			<linearGradient
				id="paint0_linear"
				x1="236.32"
				y1="205.411"
				x2="-10.9254"
				y2="35.6676"
				gradientUnits="userSpaceOnUse"
			>
				<stop offset="0.229167" stop-color="#FF0056" />
				<stop offset="0.520833" stop-color="#5467FF" />
			</linearGradient>
			<radialGradient
				id="paint1_radial"
				cx="0"
				cy="0"
				r="1"
				gradientUnits="userSpaceOnUse"
				gradientTransform="translate(1.9595e-05 281) rotate(-25.1688) scale(330.365 281.451)"
			>
				<stop offset="0.411458" stop-color="#3BD983" />
				<stop offset="0.661458" stop-color="#3BD983" stop-opacity="0" />
			</radialGradient>
		</defs>
	</svg>
</a>

<style lang="scss">
	.logo {
		padding: var(--spacing-00);
		text-decoration: none;
		border-radius: var(--radius-1);
		transition: background-color ease-in-out 200ms;

		svg {
			display: block;
		}

		&:hover {
			background: var(--color-gray-400);
		}
	}
</style>
