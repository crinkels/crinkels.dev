{% extends "layouts/base.njk" %}
{% block content %}
<main class="post">
    <article class="center">
        {% if archived %}
        <div class="archived">
            This post is out-of-date, or I do not agree 100% with its content anymore. It will not be updated, but remains to exist to not break links.
        </div>
        {% endif %}
        <div class="flex-col">
            <time class="meta-info" date="{{ post.data.date }}">
                {{ date | readableDate }}
                {% if update %} <span class="italic">(Updated on: {{ update | readableDate }})</span> {%  endif %}
            </time>
            <h1 class="mb-000">{{ title }}</h1>
            {% include "components/tag-list.njk" %}
        </div>
        {{ content | safe }}
    </article>
</main>

{% set older = collections.posts | getNextCollectionItem(page) %}
{% set newer = collections.posts | getPreviousCollectionItem(page) %}

<aside class="pagination | repel switcher --width-3 --gap-1 items-center">
    {% if newer %}
    <div class="items-start">
      <span class="text-2 uppercase">← Newer</span>
      <h3 class="size-1"><a href="{{ newer.url | url }}">{{ newer.data.title }}</a></h3>
    </div>
    {% endif %}
  {% if older %}
    <div class="items-end text-right">
      <span class="text-2 uppercase">Older →</span>
      <h3 class="size-1"><a href="{{ older.url | url }}">{{ older.data.title }}</a></h3>
    </div>
    {% endif %}
</aside>
{% endblock %}
