{% extends "layouts/base.njk" %}
{% block content %}
<main class="post">
    <article class="center">
        {% if archived %}
        <div class="archived">
            This post is out-of-date, or I do not agree 100% with its content anymore. It will not be updated, but remains to exist to not break links.
        </div>
        {% endif %}
        <div class="flex-col">
            <time class="meta-info" date="{{ post.data.date }}">
                {{ date | readableDate }}
                {% if update %} <span class="italic">(Updated on: {{ update | readableDate }})</span> {%  endif %}
            </time>
            <h1 class="mb-000">{{ title }}</h1>
            {% include "components/tag-list.njk" %}
        </div>
        {{ content | safe }}
    </article>
</main>

{% set nextPost = collections.posts | getNextCollectionItem(page) %}
{% set previousPost = collections.posts | getPreviousCollectionItem(page) %}

<aside class="switcher --width-3 --gap-1 justify-stretch | p-1 mb-0">
    {% if previousPost %}
    <div class="flex-col --gap-none items-start">
      <span class="text-2 uppercase no-decoration">← Previous</span>
      <h3 class="size-1 sans-serif"><a href="{{ previousPost.url | url }}">{{ previousPost.data.title }}</a></h3>
    </div>
    {% endif %}
  {% if nextPost %}
    <div class="flex-col --gap-none items-end justify-center | text-right">
      <span class="text-2 uppercase no-decoration">Next →</span>
      <h3 class="size-1 sans-serif"><a href="{{ nextPost.url | url }}">{{ nextPost.data.title }}</a></h3>
    </div>
    {% endif %}
</aside>
{% endblock %}
